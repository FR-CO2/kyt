
angular.module("hateoas",["ngResource"]).provider("HateoasInterface",function(){var c,b="_links",a=true;return{setLinksKey:function(d){b=d||b},getLinksKey:function(){return b},setHalEmbedded:function(d){a=d},getHalEmbedded:function(){return a},setHttpMethods:function(d){c=angular.copy(d)},$get:["$injector",function(e){var g=function(j,h,k){var i={};angular.forEach(k,function(m,l){if((m[j]||l)&&m[h]){i[m[j]||l]=m[h]}});return i};var f=function(h,j,i){if(h in this[b]){return e.get("$resource")(this[b][h],j,i||c)}else{throw"Link '"+h+"' is not present in object."}};var d=function(i){if(i[b]){var h={};h[b]=g("rel","href",i[b]);i=angular.extend(this,i,h,{resource:f})}if(a&&i[a]){i=angular.extend(this,i,new d(i[a]))}angular.forEach(i,function(k,j){if(j!==b&&angular.isObject(k)&&(angular.isArray(k)||k[b])){i[j]=new d(k)}});return i};return d}]}}).provider("HateoasInterceptor",["$httpProvider",function(a){return{transformAllResponses:function(){a.interceptors.push("HateoasInterceptor")},$get:["HateoasInterface","$q",function(c,b){return{response:function(d){if(d&&angular.isObject(d.data)){d.data=new c(d.data)}return d||b.when(d)}}}]}}]);